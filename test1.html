<!DOCTYPE html>
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
        <script src="avalon.js" type="text/javascript"></script>
        <script>

            vmodel = avalon.define({
                $id: "test",
                a: 1,
                b: 2,
                fn: function() {
                    return  (parseFloat(vmodel.a) || 0) + (parseFloat(vmodel.b) || 0)
                }
            })
            var setIEOpacity = function(el, value) {
                if (!el.currentStyle.hasLayout) {
                    el.style.zoom = 1;//让元素获得hasLayout
                }
                if (el.filters.alpha) {
                    //必须已经定义过透明滤镜才能使用以下便捷方式
                    el.filters.alpha.opacity = value * 100;
                } else {
                    el.style.filter += "alpha(opacity=" + value * 100 + ")";
                }
                return el;
            };
            window.onload = function() {
                var el = document.getElementById("aaa")
                setIEOpacity(el, 0.40)
            }

        </script>
        <style>
            #aaa{
                width: 100%;
                height:200px;
                background:green;
            }
        </style>
    </head>
    <body ms-controller="test">
        <P id="aaa">xxx</P>
        <div><input ms-duplex="a"/>{{a}}</div>
        <div><input ms-duplex="b"/>{{b}}</div>
        <div>{{fn()}}</div>
    </body>
</html>
